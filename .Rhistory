source("C:/HY-Data/HEGROIVA/GitHub/Gradu/init.R")
feats_topic100 <- get_topic_features(df)
source("get_genre_word_freqs_alt.R")
feats_topic100 <- get_topic_features(df)
feats_topic100 <- get_topic_features(df)
feats_topic100 <- readRDS(paste0(bu_path, "/features_topic100.RDS"))
saveRDS(feats_topic100, paste0(bu_path, "/features_topic100.RDS"))
feats_topic100 <- readRDS(paste0(bu_path, "/features_topic100.RDS"))
qqq <- run_rf_once(df=df, features=feats_topic100, ntree=250, mtry=5, filenamestem="topic100_ntree250_mtry5")
qqq <- run_rf_once(df=df, features=feats_topic100, ntree=250, mtry=10, filenamestem="topic100_ntree250_mtry10")
qqq <- run_caret_rf_once(df=df,
features=feats_topic100,
filenamestem="topic100_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
feats_topic100 <- NULL
feats_topic100 <- readRDS(paste0(bu_path, "features_topic100.RDS"))
qqq <- run_rf_once(df=df, features=feats_topic100, ntree=250, mtry=5, filenamestem="topic100_ntree250_mtry5")
qqq <- run_rf_once(df=df, features=feats_topic100, ntree=250, mtry=10, filenamestem="topic100_ntree250_mtry10")
feats_topic100 <- readRDS(paste0(bu_path, "features_topic100.RDS"))
feats_topic100 <- readRDS(paste0(bu_path, "/features_topic100.RDS"))
qqq <- run_rf_once(df=df, features=feats_topic100, ntree=250, mtry=5, filenamestem="topic100_ntree250_mtry5")
qqq <- run_rf_once(df=df, features=feats_topic100, ntree=250, mtry=10, filenamestem="topic100_ntree250_mtry10")
qqq <- run_caret_rf_once(df=df,
features=feats_topic100,
filenamestem="topic100_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
feats_topic100 <- NULL
antique_names <- read.csv2(file=paste0(bu_path, "/metamorphoses_in_capitals_mod.txt"),
encoding="UTF-8",
header=FALSE,
stringsAsFactors = FALSE,
quote = "")[,1]
antique_names2 <- read.csv2(file=paste0(bu_path, "/ilias_mod.txt"),
encoding="UTF-8",
header=FALSE,
stringsAsFactors = FALSE,
quote = "")[,1]
antique_names <- tolower(antique_names)
antique_names2 <- tolower(antique_names2)
antique_names3 <- unique(c(antique_names, antique_names2))
clean_titles <- gsub("([^[:lower:][:upper:] ])", "", df$whole_title_sans_edition)
clean_titles <- tolower(clean_titles)
feats_antique <- readRDS(paste0(bu_path, "/antique_20170922.RDS"))
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19_antique <- cbind(feats_antique, feats_basic_bow19)
qqq <- run_rf_once(df=df, features=feats_basic_bow19_antique, ntree=250, mtry=5, filenamestem="basic_bow19_antique_ntree250_mtry5")
qqq <- run_rf_once(df=df, features=feats_basic_bow19_NLP1, ntree=250, mtry=10, filenamestem="basic_bow19_antique_ntree250_mtry10")
qqq <- run_caret_rf_once(df=df,
features=feats_basic_bow19_antique,
filenamestem="basic_bow19_antique_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
feats_antique <- readRDS(paste0(bu_path, "/antique_20170922.RDS"))
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19_antique <- cbind(feats_antique, feats_basic_bow19)
qqq <- run_rf_once(df=df, features=feats_basic_bow19_antique, ntree=250, mtry=10, filenamestem="basic_bow19_antique_ntree250_mtry10")
qqq <- run_caret_rf_once(df=df,
features=feats_basic_bow19_antique,
filenamestem="basic_bow19_antique_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
feats_antique <- NULL
feats_basic_bow19 <- NULL
feats_basic_bow19_antique <- NULL
feats_author <- df$author
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19_author <- cbind(feats_author, feats_basic_bow19)
qqq <- run_rf_once(df=df, features=feats_basic_bow19_author, ntree=250, mtry=5, filenamestem="basic_bow19_author_ntree250_mtry5")
qqq <- run_rf_once(df=df, features=feats_basic_bow19_author, ntree=250, mtry=10, filenamestem="basic_bow19_author_ntree250_mtry10")
qqq <- run_caret_rf_once(df=df,
features=feats_basic_bow19_author,
filenamestem="basic_bow19_author_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
debugSource('C:/HY-DATA/HEGROIVA/GitHub/Gradu/run_rf.R')
feats_author <- df$author
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19_author <- cbind(feats_author, feats_basic_bow19)
qqq <- run_rf_once(df=df, features=feats_basic_bow19_author, ntree=250, mtry=5, filenamestem="basic_bow19_author_ntree250_mtry5")
names(features)
source('C:/HY-DATA/HEGROIVA/GitHub/Gradu/run_rf.R')
feats_author <- df$author
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19_author <- cbind(author=feats_author, feats_basic_bow19)
qqq <- run_rf_once(df=df, features=feats_basic_bow19_author, ntree=250, mtry=5, filenamestem="basic_bow19_author_ntree250_mtry5")
qqq <- run_rf_once(df=df, features=feats_basic_bow19_author, ntree=250, mtry=10, filenamestem="basic_bow19_author_ntree250_mtry10")
qqq <- run_caret_rf_once(df=df,
features=feats_basic_bow19_author,
filenamestem="basic_bow19_author_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
feats_author <- NULL
feats_basic_bow19 <- NULL
feats_basic_bow19_author <- NULL
feats_marc <- readRDS(paste0(bu_path, "/features_marc_20170803.RDS"))
feats_marc$author_age <- NULL
feats_marc$publication_year <- NULL
saveRDS(feats_marc, paste0(bu_path, "/features_marc_20170922.RDS"))
feats_marc <- readRDS(paste0(bu_path, "/features_marc_20170922.RDS"))
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19_marc <- cbind(feats_marc, feats_basic_bow19)
qqq <- run_rf_once(df=df, features=feats_basic_bow19_marc, ntree=250, mtry=5, filenamestem="basic_bow19_marc_ntree250_mtry5")
length(which(is.na(feats_author)))
feats_author <- df$author
length(which(is.na(feats_author)))
feats_author <- df$author_name
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19_author <- cbind(author=feats_author, feats_basic_bow19)
qqq <- run_rf_once(df=df, features=feats_basic_bow19_author, ntree=250, mtry=5, filenamestem="basic_bow19_author_ntree250_mtry5")
qqq <- run_rf_once(df=df, features=feats_basic_bow19_author, ntree=250, mtry=10, filenamestem="basic_bow19_author_ntree250_mtry10")
qqq <- run_caret_rf_once(df=df,
features=feats_basic_bow19_author,
filenamestem="basic_bow19_author_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
feats_author <- NULL
feats_basic_bow19 <- NULL
feats_basic_bow19_author <- NULL
feats_marc <- readRDS(paste0(bu_path, "/features_marc_20170803.RDS"))
feats_marc$author_age <- NULL
feats_marc$publication_year <- NULL
saveRDS(feats_marc, paste0(bu_path, "/features_marc_20170922.RDS"))
feats_marc <- readRDS(paste0(bu_path, "/features_marc_20170922.RDS"))
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19_marc <- cbind(feats_marc, feats_basic_bow19)
qqq <- run_rf_once(df=df, features=feats_basic_bow19_marc, ntree=250, mtry=5, filenamestem="basic_bow19_marc_ntree250_mtry5")
qqq <- run_rf_once(df=df, features=feats_basic_bow19_marc, ntree=250, mtry=10, filenamestem="basic_bow19_marc_ntree250_mtry10")
qqq <- run_caret_rf_once(df=df,
features=feats_basic_bow19_marc,
filenamestem="basic_bow19_marc_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
feats_marc <- NULL
feats_basic_bow19 <- NULL
feats_basic_bow19_marc <- NULL
feats_antique <- readRDS(paste0(bu_path, "/antique_20170922.RDS"))
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19_antique <- cbind(feats_antique, feats_basic_bow19)
qqq <- run_caret_rf_once(df=df,
features=feats_basic_bow19_antique,
filenamestem="basic_bow19_antique_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
feats_antique <- NULL
feats_basic_bow19 <- NULL
feats_basic_bow19_antique <- NULL
source("init.R")
feats_author <- df$author_name
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19_author <- cbind(author=feats_author, feats_basic_bow19)
qqq <- run_rf_once(df=df, features=feats_basic_bow19_author, ntree=250, mtry=5, filenamestem="basic_bow19_author_ntree250_mtry5")
qqq <- run_caret_rf_once(df=df,
features=feats_basic_bow19_author,
filenamestem="basic_bow19_author_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
debugSource('C:/HY-Data/HEGROIVA/GitHub/Gradu/run_caret_rf.R')
debugSource('C:/HY-Data/HEGROIVA/GitHub/Gradu/run_caret_rf_once.R')
qqq <- run_caret_rf_once(df=df,
features=feats_basic_bow19_author,
filenamestem="basic_bow19_author_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
names(features)
unique(features$author)
source('C:/HY-Data/HEGROIVA/GitHub/Gradu/run_caret_rf.R')
qqq <- run_caret_rf_once(df=df,
features=feats_basic_bow19_author,
filenamestem="basic_bow19_author_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
debugSource('C:/HY-Data/HEGROIVA/GitHub/Gradu/run_caret_rf_once.R')
qqq <- run_caret_rf_once(df=df,
features=feats_basic_bow19_author,
filenamestem="basic_bow19_author_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
source('C:/HY-Data/HEGROIVA/GitHub/Gradu/run_caret_rf.R')
debugSource('C:/HY-Data/HEGROIVA/GitHub/Gradu/run_caret_rf_once.R')
source('C:/HY-Data/HEGROIVA/GitHub/Gradu/run_caret_rf.R')
source('C:/HY-Data/HEGROIVA/GitHub/Gradu/run_caret_rf_once.R')
qqq <- run_caret_rf_once(df=df,
features=feats_basic_bow19_author,
filenamestem="basic_bow19_author_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
feats_marc <- readRDS(paste0(bu_path, "/features_marc_20170922.RDS"))
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19_marc <- cbind(feats_marc, feats_basic_bow19)
names(feats_basic_bow19_marc)
feats_marc$is_poetry <- NULL
feats_marc <- readRDS(paste0(bu_path, "/features_marc_20170803.RDS"))
feats_marc$is_poetry <- NULL
feats_marc$author_age <- NULL
feats_marc$publication_year <- NULL
saveRDS(feats_marc, paste0(bu_path, "/features_marc_20170922.RDS"))
feats_marc <- readRDS(paste0(bu_path, "/features_marc_20170922.RDS"))
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19_marc <- cbind(feats_marc, feats_basic_bow19)
qqq <- run_rf_once(df=df, features=feats_basic_bow19_marc, ntree=250, mtry=5, filenamestem="basic_bow19_marc_ntree250_mtry5")
qqq <- run_rf_once(df=df, features=feats_basic_bow19_marc, ntree=250, mtry=10, filenamestem="basic_bow19_marc_ntree250_mtry10")
qqq <- run_caret_rf_once(df=df,
features=feats_basic_bow19_marc,
filenamestem="basic_bow19_marc_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
feats_marc <- NULL
feats_basic_bow19 <- NULL
feats_basic_bow19_marc <- NULL
feats_basic_bow19_punctuation <- readRDS(paste0(bu_path, "/features_punctuation_20170926.RDS"))
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19$is_poetry <- NULL
feats_basic_bow19_stopmarks <- cbind(feats_basic_bow19, feats_basic_bow19_punctuation)
qqq <- run_rf_once(df=df, features=feats_basic_bow19_punctuation, ntree=250, mtry=5, filenamestem="basic_bow18_punctuation_ntree250_mtry5")
qqq <- run_rf_once(df=df, features=feats_basic_bow19_punctuation, ntree=250, mtry=10, filenamestem="basic_bow18_punctuation_ntree250_mtry10")
feats_basic_bow19 <- NULL
feats_basic_bow19_punctuation <- NULL
names(feats_basic_bow19_punctuation)
feats_basic_bow19_punctuation <- readRDS(paste0(bu_path, "/features_punctuation_20170926.RDS"))
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19$is_poetry <- NULL
feats_basic_bow19_punctuation <- cbind(feats_basic_bow19, feats_basic_bow19_punctuation)
feats_basic_bow19_punctuation <- readRDS(paste0(bu_path, "/features_punctuation_20170926.RDS"))
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19$is_poetry <- NULL
feats_basic_bow19_punctuation <- cbind(feats_basic_bow19, feats_basic_bow19_punctuation)
names(feats_basic_bow19_punctuation)
qqq <- run_rf_once(df=df, features=feats_basic_bow19_punctuation, ntree=250, mtry=5, filenamestem="basic_bow18_punctuation_ntree250_mtry5")
qqq <- run_rf_once(df=df, features=feats_basic_bow19_punctuation, ntree=250, mtry=10, filenamestem="basic_bow18_punctuation_ntree250_mtry10")
qqq <- run_caret_rf_once(df=df,
features=feats_basic_bow19_punctuation,
filenamestem="basic_bow19_punctuation_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
feats_basic_bow19 <- NULL
feats_basic_bow19_punctuation <- NULL
feats_basic_bow19_punctuation <- readRDS(paste0(bu_path, "/features_punctuation_20170926.RDS"))
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19$is_poetry <- NULL
feats_basic_bow19$no_of_commas <- NULL
feats_basic_bow19$no_of_exclamation_marks <- NULL
feats_basic_bow19$no_of_question_marks <- NULL
saveRDS(feats_basic_bow19, paste0(bu_path, "/features_basic_bow19_mod.RDS"))
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19_mod.RDS"))
feats_basic_bow19_punctuation <- cbind(feats_basic_bow19, feats_basic_bow19_punctuation)
qqq <- run_rf_once(df=df, features=feats_basic_bow19_punctuation, ntree=250, mtry=5, filenamestem="basic_bow19_punctuation_ntree250_mtry5")
qqq <- run_rf_once(df=df, features=feats_basic_bow19_punctuation, ntree=250, mtry=10, filenamestem="basic_bow19_punctuation_ntree250_mtry10")
qqq <- run_caret_rf_once(df=df,
features=feats_basic_bow19_punctuation,
filenamestem="basic_bow19_punctuation_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
feats_basic_bow19 <- NULL
feats_basic_bow19_punctuation <- NULL
names(feats_basic_bow19_punctuation)
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19_mod.RDS"))
names(feats_basic_bow19_punctuation)
feats_basic_bow19_punctuation <- cbind(feats_basic_bow19, feats_basic_bow19_punctuation)
feats_basic_bow19_punctuation <- readRDS(paste0(bu_path, "/features_punctuation_20170926.RDS"))
feats_basic_bow19_punctuation <- cbind(feats_basic_bow19, feats_basic_bow19_punctuation)
names(feats_basic_bow19_punctuation)
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19_mod.RDS"))
feats_basic_bow19_punctuation <- readRDS(paste0(bu_path, "/features_punctuation_20170926.RDS"))
feats_basic_bow19_punctuation <- cbind(feats_basic_bow19_punctuation, feats_basic_bow19)
names(feats_basic_bow19_punctuation)
feats_basic_bow19_punctuation <- readRDS(paste0(bu_path, "/features_punctuation_20170926.RDS"))
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
names(feats_basic_bow19)
feats_basic_bow19$no_of_commas <- NULL
feats_basic_bow19$no_of_exclamation_marks <- NULL
feats_basic_bow19$no_of_question_marks <- NULL
saveRDS(feats_basic_bow19, paste0(bu_path, "/features_basic_bow19_mod.RDS"))
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19_mod.RDS"))
feats_basic_bow19_punctuation <- readRDS(paste0(bu_path, "/features_punctuation_20170926.RDS"))
feats_basic_bow19_punctuation <- cbind(feats_basic_bow19_punctuation, feats_basic_bow19)
names(feats_basic_bow19_punctuation)
feats_basic_bow19_punctuation$is_poetry <- NULL
feats_basic_bow19_punctuation <- readRDS(paste0(bu_path, "/features_punctuation_20170926.RDS"))
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19.RDS"))
feats_basic_bow19_punctuation$is_poetry <- NULL
feats_basic_bow19$no_of_commas <- NULL
feats_basic_bow19$no_of_exclamation_marks <- NULL
feats_basic_bow19$no_of_question_marks <- NULL
saveRDS(feats_basic_bow19, paste0(bu_path, "/features_basic_bow19_mod.RDS"))
saveRDS(feats_basic_bow19_punctuation, paste0(bu_path, "/features_punctuation_20170926.RDS"))
feats_basic_bow19 <- readRDS(paste0(bu_path, "/features_basic_bow19_mod.RDS"))
feats_basic_bow19_punctuation <- readRDS(paste0(bu_path, "/features_punctuation_20170926.RDS"))
feats_basic_bow19_punctuation <- cbind(feats_basic_bow19_punctuation, feats_basic_bow19)
names(feats_basic_bow19_punctuation)
qqq <- run_caret_rf_once(df=df,
features=feats_basic_bow19_punctuation,
filenamestem="basic_bow19_punctuation_caret_ntree250_mtry10",
ntree=250,
mtry=10,
get_pairwise_comparison = TRUE,
get_varImp = TRUE,
get_rfe = FALSE,
get_prediction = FALSE)
feats_basic_bow19 <- NULL
feats_basic_bow19_punctuation <- NULL
